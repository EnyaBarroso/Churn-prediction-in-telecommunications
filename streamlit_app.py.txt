import streamlit as st
import pandas as pd
import joblib

# T铆tulo y descripci贸n
st.title(" Predicci贸n de Churn en Telecomunicaciones")
st.write("""
Aplicaci贸n interactiva para predecir clientes en riesgo de abandono.
""")

# 1. Carga de datos/modelo
@st.cache_data
def load_data():
    df = pd.read_csv("datos.csv")  # Aseg煤rate de tener este archivo
    return df

@st.cache_resource
def load_model():
    model = joblib.load("modelo_final_churn.pkl")  # Usa tu modelo real
    return model

# 2. Visualizaci贸n de datos
if st.checkbox("Mostrar datos"):
    df = load_data()
    st.dataframe(df.head())

# 3. Predicci贸n interactiva (ejemplo b谩sico)
st.subheader("Simulador de Churn")
tenure = st.slider("Meses como cliente", 1, 72, 12)
monthly_charges = st.number_input("Cargo mensual (USD)", 20.0, 120.0, 70.0)

if st.button("Predecir"):
    model = load_model()
    prediction = model.predict([[tenure, monthly_charges]])[0]
    st.success(f"Predicci贸n: {'Churn' if prediction == 1 else 'No Churn'}")